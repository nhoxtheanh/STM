@startuml
box Client 1
actor Player
participant Client
participant Network
participant BattleListManager
participant BattleMatchView
participant GamePlayManager
GamePlayManager -> BattleMatchView: showView()
GamePlayManager -> Network: getRoomInfo(UserID, RoomID)
activate Network
endbox
box Server
participant RoomsHandler
participant Room
participant sGamePlayManager

endbox
Network -> RoomsHandler: sendGetRoomInfo(UserID, RoomID)

activate Client
loop battle list choosing
RoomsHandler -> Room: onReceiveGetRoomInfo(UserID)
alt 
else choose battle
BattleListManager -> Network: joinBattle(UserID)
Network -> BattleRequestHandler: RequestBattle(player, opponent)
BattleRequestHandler -> Network2: OfferBattle(opponent)
Network2 -> BattleRequestHandler: RequestBattle(player, opponent)
BattleRequestHandler -> Network: AcceptBattle(opponent, player)
BattleRequestHandler -> RoomsHandler: startRoom()
activate RoomsHandler
RoomsHandler -> Room: initRoom(List<UserID>)
Room -> sGamePlayManager: initGamePlayManager()
Network -> RoomsHandler: sendGetRoomInfo()
Network2 -> RoomsHandler: sendGetRoomInfo()
RoomsHandler -> Network
RoomsHandler -> Network2

else out of wait time 8s
RoomsHandler -> Room: initRoomBot(UserID)
Room -> sGamePlayManager: initGamePlayManager()
Network -> RoomsHandler: sendGetRoomInfo()
RoomsHandler -> Network

end
end

box client 2
participant Network2
end box
@enduml